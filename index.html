<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>맛녀석 맛집검색</title>
</head>
<body>
    <div class="meok" style="text-align: center;">
        <h1>검색어 뒤에 지역을 입력해 주세요</h1>
        <input type="text" id="query" value="맛있는 녀석들 ">
        <button onclick="search()">검색</button>
        <ul id="results"></ul>
    </div>

    <script>
        async function search() {
            const query = document.getElementById('query').value;
            const clientId = '8pem5NO1WQ3hqoMeuJno';  // 발급받은 Client ID
            const clientSecret = 'A_wDtYzaEf';  // 발급받은 Client Secret

            const url = `https://openapi.naver.com/v1/search/local.json?query=${encodeURIComponent(query)}&display=5&start=1&sort=random`;

            const options = {
                method: 'GET',
                headers: {
                    'X-Naver-Client-Id': clientId,
                    'X-Naver-Client-Secret': clientSecret
                }
            };

            try {
                const response = await fetch(url, options);
                const data = await response.json();
                displayResults(data.items);
            } catch (error) {
                console.error('Error:', error);
            }
        }

        function displayResults(items) {
            const results = document.getElementById('results');
            results.innerHTML = '';

            items.forEach(item => {
                const li = document.createElement('li');
                li.innerHTML = `<a href="${item.link}" target="_blank">${item.title}</a> - ${item.category} - ${item.address}`;
                results.appendChild(li);
            });
        }
    </script>
</body>
</html>
